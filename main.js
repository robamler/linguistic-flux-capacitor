(()=>{var n,e,t,o,i,r,l={28:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>d});var o=t(645),i=t.n(o),r=t(667),l=t.n(r),a=t(775),s=i()((function(n){return n[1]})),c=l()(a);s.push([n.id,"@font-face {\n    font-family: 'DM Serif Display';\n    font-style: normal;\n    font-weight: 400;\n    font-display: swap;\n    src: url("+c+') format(\'woff2\');\n    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n}\n  \nbody {\n    font-family: "Roboto", "Helvetica Neue", Arial, sans-serif;\n    font-size: 20px;\n}\n\n.pageContainer {\n    width: 50em;\n    position: absolute;\n    left: 50%;\n    transform: translateX(-50%);\n}\n\nh1 {\n    text-align: center;\n    font-weight: normal;\n    font-size: 280%;\n    font-family: \'DM Serif Display\', serif;\n    margin: 0.3em 0 0.7em 0;\n    padding: 0;\n    line-height: 1.1em;\n}\n\n.app>h2 {\n    font-family: "Roboto", "Helvetica Neue", Arial, sans-serif;\n    font-weight: normal;\n    text-align: center;\n    font-size: 160%;\n    margin: 0.2em 0;\n}\n\n.legendItems>h3 {\n    font-family: "Roboto", "Helvetica Neue", Arial, sans-serif;\n    font-size: 110%;\n    font-weight: bold;\n    text-align: center;\n    margin: 0 0 0.3em 0;\n    display: block;\n    white-space: nowrap;\n}\n\nh2 {\n    font-size: 230%;\n    font-weight: normal;\n    font-family: \'DM Serif Display\', serif;\n    margin: 1.4em 0 0.6em 0;\n    line-height: 100%;\n}\n\nh3 {\n    font-family: \'DM Serif Display\', serif;\n    font-size: 125%;\n    font-weight: 700;\n    margin: 1em 0.4em -0.3em 0;\n    padding: 0;\n    display: inline;\n}\n\n.prose {\n    color: #333;\n    line-height: 150%;\n}\n\n.prose li {\n    margin-top: 0.3em;\n}\n\nfooter {\n    opacity: 0.7;\n    font-size: 80%;\n    margin: 2em 0 1em 0;\n}\n\n.subtitle {\n    font-size: 60%;\n    display: block;\n}\n\n.splashScreen {\n    text-align: center;\n    font-size: 120%;\n    margin: 4em 2em 7em 2em;\n}\n\n#wasmErrorMessage {\n    text-align: center;\n}\n\n#wasmErrorMessage>table {\n    border: 0;\n    width: 100%;\n}\n\n#wasmErrorMessage td {\n    width: 20%;\n    text-align: center;\n    vertical-align: top;\n}\n\n.appContainer {\n    width: 40em;\n}\n\n.app {\n    display: none;\n}\n\n#downloadProgressPane {\n    color: #0d441d;\n}\n\n.progressBarContainer {\n    margin: 0.7em;\n    border: #36864e solid 0.1em;\n    border-radius: 0.3em;\n    position: relative;\n    height: 1.5em;\n}\n\n.progressBar {\n    background: #bfdfc9;\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 0;\n    z-index: 0;\n    border-radius: 0.15em;\n}\n\n.progressText {\n    position: absolute;\n    margin: auto;\n    left: 0;\n    right: 0;\n    top: 0.1em;\n    text-shadow: 0 0 0.2em #fff;\n}\n\n.plotAndLegend {\n    position: relative;\n    margin: 1.3em -2% 0 -2%;\n}\n\n.plotContainer {\n    position: relative;\n    left: -2em;\n    width: 41em;\n}\n\n.centered {\n    text-align: center;\n}\n\n.wordInput {\n    margin: 0 0 0.1em 0;\n    font-size: 160%;\n    width: 40%;\n    text-align: center;\n}\n\ninput {\n    border: solid 0.05em #ccc;\n    border-radius: 0.2em;\n    padding: 0.2em;\n}\n\ninput:focus {\n    border-color: #86bdf0;\n    background: #fafbfd;\n    outline: none;\n}\n\ninput.invalid {\n    background-color: #fdebeb;\n}\n\ninput.invalid:focus {\n    border-color: #9c5555;\n}\n\n.tooltipContent .explanation {\n    font-size: 90%;\n}\n\n.tooltipContent th {\n    font-size: 120%;\n}\n\n.tooltipContent th, .tooltipContent td {\n    vertical-align: baseline;\n}\n\n.tooltipContent th.left, .tooltipContent td.left {\n    padding-right: 0.3em;\n}\n\n.tooltipContent th.right, .tooltipContent td.right {\n    padding-left: 0.3em;\n}\n\n.tooltipContent .year {\n    font-size: 140%;\n    font-weight: bold;\n}\n\n.tooltipContent .interleave {\n    padding: 0.2em 0 0.5em 0;\n}\n\n.hint {\n    opacity: 0.7;\n    font-size: 80%;\n    margin-top: 0.1em;\n}\n\n.shareContainer {\n    margin: -0.3em 0.3em 0 0;\n    white-space: nowrap;\n    color: #555;\n    font-size: 80%;\n}\n\n.shareContainer::before {\n    display: inline-block;\n    vertical-align: top;\n    padding-top: 0.1em;\n    content: \'Share current plot on:\';\n}\n\n.legend.empty>.shareContainer::before {\n    content: \'Share this app on:\';\n    display: block;\n}\n\n.shareContainer>a {\n    display: inline-block;\n    vertical-align: top;\n    margin-left: 0.2em;\n}\n\n.legend.empty>.shareContainer>a {\n    margin: 0.4em 0.4em 0.2em 0.4em;\n}\n\n.shareContainer>a>img {\n    width: 1.5em;\n    height: 1.5em;\n    opacity: 0.6;\n    transition: opacity 0.1s;\n}\n\n.shareContainer>a:hover>img {\n    opacity: 1;\n}\n\n.toast {\n    position: relative;\n    left: -0.9em;\n    display: none;\n    opacity: 0;\n    transition: opacity 0.8s;\n}\n\n.toast>span {\n    display: block;\n    position: absolute;\n    top: 1.1em;\n    transform: translateX(-50%);\n    white-space: nowrap;\n    background: #cddbc5;\n    border: 0.2em solid #fff;\n    border-radius: 0.4em;\n    padding: 0.3em 0.5em;\n    font-size: 110%;\n    color: #1b3e14;\n    text-align: center;\n}\n\n.wordInputError {\n    position: absolute;\n    margin: 0.2em 0 0 0.6em;\n    color: #821313;\n    display: none;\n    line-height: 1.05em;\n    text-align: left;\n}\n\n.tooltipContent table {\n    width: 100%;\n}\n\n.tooltipContent .wait {\n    display: none;\n    position: absolute;\n    text-align: center;\n    width: 10em;\n    white-space: normal;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    opacity: 0.8;\n    font-size: 80%;\n}\n\n.tooltipContent.waiting .wait {\n    display: block;\n}\n\n.tooltipContent .suggestionsTable {\n    visibility: visible;\n}\n\n.tooltipContent.waiting .suggestionsTable {\n    visibility: hidden;\n}\n\n.tooltipContent .suggestion {\n    padding: 0.05em 0;\n    font-size: 90%;\n}\n\n.tooltipContent .left {\n    text-align: left;\n}\n\n.tooltipContent .right {\n    text-align: right;\n}\n\n.tooltipContent .removeWordButton {\n    background-color: #BCB8AE;\n    /*Mindful Gray*/\n    color: white;\n    font-size: 80%;\n}\n\na {\n    text-decoration: none;\n    color: #1135a0;\n}\n\n.legend {\n    background-color: #e8e8e8;\n    border-radius: 0.5em;\n    padding: 0.6em 0.7em 0.2em 0.6em;\n    width: auto;\n    position: absolute;\n    left: 40em;\n    top: 0;\n}\n\n.legend.empty {\n    text-align: center;\n}\n\n.legend.empty>.legendItems {\n    display: none;\n}\n\n.legendItems>ul {\n    list-style-type: none;\n    margin: 0 0 0.5em 0;\n    padding: 0;\n}\n\n.legendItems>ul>li {\n    margin: -0.2em -0.4em 0.0em -0.4em;\n    padding: 0.2em 0.4em 0.3em 0.4em;\n    border-radius: 0.2em;\n    white-space: nowrap;\n    cursor: default;\n}\n\n.legendItems>ul>li:hover, .legendItems>ul>li.hovering {\n    background-color: #f8f8f8;\n}\n\n.legendItems>ul>li>a {\n    text-decoration: none;\n    color: #152d74;\n}\n\n.legendItems>ul>li::before {\n    content: "———";\n    font-family: monospace;\n    margin-right: 0.1em;\n    font-weight: bold;\n}\n\n.legendItems>ul>li.inactive::before {\n    visibility: hidden;\n}\n\n#manualComparisons>li::before {\n    content: "— —";\n}\n\n.legendItems>ul>li.color0::before {\n    color: #f94a01;\n}\n\n.legendItems>ul>li.color1::before {\n    color: #6b42b6;\n}\n\n.legendItems>ul>li.color2::before {\n    color: #11a854;\n}\n\n.legendItems>ul>li.color3::before {\n    color: #128db2;\n}\n\n.legendItems>ul>li.color4::before {\n    color: #e12fbc;\n}\n\n.legendItems>ul>li.color5::before {\n    color: #e6ab02;\n}\n\n.legendItems>ul>li.color6::before {\n    color: #b40e0e;\n}\n\n.legendItems>ul>li.color7::before {\n    color: #4257b6;\n}\n\n.legendItems>ul>li.color8::before {\n    color: #18a380;\n}\n\n.legendItems>ul>li.color9::before {\n    color: #ad27c5;\n}\n\n.legendItems>ul>li.color10::before {\n    color: #2e2e2e;\n}\n\n.manualComparisonInput {\n    font-size: 80%;\n    min-width: 5.2em;\n}\n\n.legendItems input[type="button"] {\n    font-family: "Roboto", "Helvetica Neue", Arial, sans-serif;\n    font-size: 90%;\n    width: 1.4em;\n    height: 1.4em;\n    line-height: 0;\n}\n\n.inputWidthMeasure {\n    font-family: "Roboto", "Helvetica Neue", Arial, sans-serif;\n    font-size: 90%;\n    white-space: nowrap;\n    position: absolute;\n    opacity: 0;\n}\n\n.pinWordButton {\n    background-color: #BCB8AE;\n    /*Mindful Gray*/\n    border: none;\n    color: white;\n    padding: 10px 32px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    font-size: 80%;\n}\n\n.getUrlButton {\n    background-color: #BCB8AE;\n    /*Mindful Gray*/\n    border: none;\n    color: white;\n    padding: 5px 5px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    font-size: 80%;\n}\n\n.github-corner>svg {\n    fill: #666;\n    color: #fff;\n    position: absolute;\n    top: 0;\n    border: 0;\n    right: 0;\n    width: 3.5em;\n    height: 3.5em;\n}\n\n.github-corner:hover .octo-arm {\n    animation: octocat-wave 560ms ease-in-out;\n}\n\n@keyframes octocat-wave {\n    0%, 100% {\n        transform: rotate(0);\n    }\n    20%, 60% {\n        transform: rotate(-25deg);\n    }\n    40%, 80% {\n        transform: rotate(10deg);\n    }\n}\n\n@media (max-width: 70em) {\n    body {\n        font-size: 16px;\n    }\n    .pageContainer {\n        width: 95%;\n    }\n    .appContainer {\n        width: 100%;\n    }\n    .plotContainer {\n        left: 0;\n        width: 68%;\n    }\n    .legend {\n        left: 70%;\n        font-size: 75%;\n    }\n    .github-corner>svg {\n        width: 2.5em;\n        height: 2.5em;\n    }\n}\n',""]);const d=s},645:n=>{"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=n(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t})).join("")},e.i=function(n,t,o){"string"==typeof n&&(n=[[null,n,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var l=this[r][0];null!=l&&(i[l]=!0)}for(var a=0;a<n.length;a++){var s=[].concat(n[a]);o&&i[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),e.push(s))}},e}},667:n=>{"use strict";n.exports=function(n,e){return e||(e={}),"string"!=typeof(n=n&&n.__esModule?n.default:n)?n:(/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n)}},89:(n,e,t)=>{var o=t(379),i=t(28);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[n.id,i,""]]);o(i,{insert:"head",singleton:!1}),n.exports=i.locals||{}},379:(n,e,t)=>{"use strict";var o,i=function(){var n={};return function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}n[e]=t}return n[e]}}(),r=[];function l(n){for(var e=-1,t=0;t<r.length;t++)if(r[t].identifier===n){e=t;break}return e}function a(n,e){for(var t={},o=[],i=0;i<n.length;i++){var a=n[i],s=e.base?a[0]+e.base:a[0],c=t[s]||0,d="".concat(s," ").concat(c);t[s]=c+1;var u=l(d),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(r[u].references++,r[u].updater(p)):r.push({identifier:d,updater:h(p,e),references:1}),o.push(d)}return o}function s(n){var e=document.createElement("style"),o=n.attributes||{};if(void 0===o.nonce){var r=t.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(n){e.setAttribute(n,o[n])})),"function"==typeof n.insert)n.insert(e);else{var l=i(n.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(e)}return e}var c,d=(c=[],function(n,e){return c[n]=e,c.filter(Boolean).join("\n")});function u(n,e,t,o){var i=t?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(n.styleSheet)n.styleSheet.cssText=d(e,i);else{var r=document.createTextNode(i),l=n.childNodes;l[e]&&n.removeChild(l[e]),l.length?n.insertBefore(r,l[e]):n.appendChild(r)}}function p(n,e,t){var o=t.css,i=t.media,r=t.sourceMap;if(i?n.setAttribute("media",i):n.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),n.styleSheet)n.styleSheet.cssText=o;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(o))}}var m=null,f=0;function h(n,e){var t,o,i;if(e.singleton){var r=f++;t=m||(m=s(e)),o=u.bind(null,t,r,!1),i=u.bind(null,t,r,!0)}else t=s(e),o=p.bind(null,t,e),i=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)};return o(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;o(n=e)}else i()}}n.exports=function(n,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var t=a(n=n||[],e);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var o=0;o<t.length;o++){var i=l(t[o]);r[i].references--}for(var s=a(n,e),c=0;c<t.length;c++){var d=l(t[c]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}t=s}}}},775:(n,e,t)=>{"use strict";n.exports=t.p+"48631b1f1c0f8649c924.woff2"}},a={};function s(n){var e=a[n];if(void 0!==e)return e.exports;var t=a[n]={id:n,loaded:!1,exports:{}};return l[n](t,t.exports,s),t.loaded=!0,t.exports}s.m=l,n="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",t="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=n=>{n&&!n.d&&(n.d=1,n.forEach((n=>n.r--)),n.forEach((n=>n.r--?n.r++:n())))},s.a=(i,r,l)=>{var a;l&&((a=[]).d=1);var s,c,d,u=new Set,p=i.exports,m=new Promise(((n,e)=>{d=e,c=n}));m[e]=p,m[n]=n=>(a&&n(a),u.forEach(n),m.catch((n=>{}))),i.exports=m,r((i=>{var r;s=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[n])return i;if(i.then){var r=[];r.d=0,i.then((n=>{l[e]=n,o(r)}),(n=>{l[t]=n,o(r)}));var l={};return l[n]=n=>n(r),l}}var a={};return a[n]=n=>{},a[e]=i,a})))(i);var l=()=>s.map((n=>{if(n[t])throw n[t];return n[e]})),c=new Promise((e=>{(r=()=>e(l)).r=0;var t=n=>n!==a&&!u.has(n)&&(u.add(n),n&&!n.d&&(r.r++,n.push(r)));s.map((e=>e[n](t)))}));return r.r?c:l()}),(n=>(n?d(m[t]=n):c(p),o(a)))),a&&(a.d=0)},s.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return s.d(e,{a:e}),e},s.d=(n,e)=>{for(var t in e)s.o(e,t)&&!s.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},s.f={},s.e=n=>Promise.all(Object.keys(s.f).reduce(((e,t)=>(s.f[t](n,e),e)),[])),s.u=n=>n+".js",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),s.hmd=n=>((n=Object.create(n)).children||(n.children=[]),Object.defineProperty(n,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+n.id)}}),n),s.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),i={},r="linguistic-flux-capacitor:",s.l=(n,e,t,o)=>{if(i[n])i[n].push(e);else{var l,a;if(void 0!==t)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==r+t){l=u;break}}l||(a=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.setAttribute("data-webpack",r+t),l.src=n),i[n]=[e];var p=(e,t)=>{l.onerror=l.onload=null,clearTimeout(m);var o=i[n];if(delete i[n],l.parentNode&&l.parentNode.removeChild(l),o&&o.forEach((n=>n(t))),e)return e(t)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),a&&document.head.appendChild(l)}},s.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},s.v=(n,e,t,o)=>{var i=fetch(s.p+""+t+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(i,o).then((e=>Object.assign(n,e.instance.exports))):i.then((n=>n.arrayBuffer())).then((n=>WebAssembly.instantiate(n,o))).then((e=>Object.assign(n,e.instance.exports)))},(()=>{var n;s.g.importScripts&&(n=s.g.location+"");var e=s.g.document;if(!n&&e&&(e.currentScript&&(n=e.currentScript.src),!n)){var t=e.getElementsByTagName("script");t.length&&(n=t[t.length-1].src)}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=n})(),(()=>{var n={179:0};s.f.j=(e,t)=>{var o=s.o(n,e)?n[e]:void 0;if(0!==o)if(o)t.push(o[2]);else{var i=new Promise(((t,i)=>o=n[e]=[t,i]));t.push(o[2]=i);var r=s.p+s.u(e),l=new Error;s.l(r,(t=>{if(s.o(n,e)&&(0!==(o=n[e])&&(n[e]=void 0),o)){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",l.name="ChunkLoadError",l.type=i,l.request=r,o[1](l)}}),"chunk-"+e,e)}};var e=(e,t)=>{var o,i,[r,l,a]=t,c=0;if(r.some((e=>0!==n[e]))){for(o in l)s.o(l,o)&&(s.m[o]=l[o]);a&&a(s)}for(e&&e(t);c<r.length;c++)i=r[c],s.o(n,i)&&n[i]&&n[i][0](),n[i]=0},t=self.webpackChunklinguistic_flux_capacitor=self.webpackChunklinguistic_flux_capacitor||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))})(),s.nc=void 0,(()=>{"use strict";s(89);const n=s.p+"1eb7d266c109b7ee50d5.bin";let e=s.e(199).then(s.bind(s,199));!async function(){if("object"!=typeof WebAssembly||"function"!=typeof WebAssembly.instantiate)return;const t=await s.e(276).then(s.bind(s,276));"loading"===document.readyState&&await new Promise((function(n,e){window.addEventListener("DOMContentLoaded",n)}));let o=[],i=[];for(let n=1800;n<=2008;n+=1)o.push(n),n%20==0&&i.push(n);let r="",l=[],a=[],c=document.getElementById("mainLegend"),d=document.getElementById("suggestedComparisons").querySelectorAll("li"),u=document.getElementById("manualComparisons").querySelectorAll("li"),p=null,m=[],f=[],h=[...d,...u],g=document.querySelector(".inputWidthMeasure"),b=function(){let n=document.getElementById("tooltipTemplate"),e=n.querySelector(".tooltipContent"),t=n.querySelector(".year"),i=n.querySelector(".word1"),r=n.querySelector(".word2>a"),l=[],a=null,s=[{},{}],c=[0,0],d=0;return n.querySelectorAll(".suggestion.left>a").forEach((n=>{l.push(n),n.addEventListener("click",(e=>{e.preventDefault(),n.blur(),L(n.innerText,null)}))})),n.querySelectorAll(".suggestion.right>a").forEach((n=>{l.push(n),n.addEventListener("click",(e=>{e.preventDefault(),n.blur(),L(n.innerText,null)}))})),r.addEventListener("click",(n=>{n.preventDefault(),r.blur(),L(r.innerText,null)})),function(n,u,p){clearTimeout(a);let m=u.payload;t.innerText=o[p],i.innerText=m.word1,r.innerText=m.word2;let f=m.word1Id+"-"+m.word2Id+"-"+p,h=s[d][f],g=h||s[1-d][f];void 0!==g?(g.forEach(((n,e)=>{l[e].innerText=w.vocab[n]})),e.classList.remove("waiting"),void 0===h&&(1024===c[d]&&(d=1-d,s[d]={},c[d]=0),s[d][f]=g,c[d]+=1)):(e.classList.add("waiting"),a=setTimeout((()=>{let n=v.most_related_to_at_t([m.word1Id,m.word2Id],p,7);n.forEach(((n,e)=>{l[e].innerText=w.vocab[n]})),e.classList.remove("waiting"),1024==c[d]&&(d=1-d,s[d]={},c[d]=0),s[d][f]=n,c[d]+=1}),0))}}();const y=t.createPlot(document.getElementById("mainPlot"),o,i,b,document.getElementById("tooltipTemplate"),(function(n){h[n].classList.add("hovering")}),(function(n){h[n].classList.remove("hovering")}));document.getElementById("mainLegend").querySelectorAll("ul").forEach((n=>n.addEventListener("mouseout",(()=>y.lineToFront())))),h.forEach(((n,e)=>{n.addEventListener("mouseover",(()=>{y.lineToFront(e),y.hoverLine(e)})),n.addEventListener("mouseout",(()=>y.unhoverLine(e))),n.addEventListener("click",(()=>y.setMainLine(e)));const t=n.querySelector("a");t&&t.addEventListener("click",(n=>{n.preventDefault(),t.blur(),L(t.innerText,null)}));const o=n.querySelectorAll("input");if(0!==o.length){const[e,t]=o;let i=m.length;m.push(e),f.push(t);let r=n=>function(n,e,t){let o=()=>{let o=e.value.trim(),i=[...l];t>=i.length-1&&""===o?i.splice(t,1):t<i.length?i[t]=o:i.push(o),L(null,i),"blur"!==n.type&&"change"!==n.type&&y.setMainLine(d.length+t)};setTimeout(o,0),setTimeout(o,300)}(n,e,i);e.onkeydown=r,e.onchange=r,e.onclick=r,e.onblur=r,t.onclick=()=>function(n){let e=[...l];n<e.length&&(e.splice(n,1),L(null,e))}(i),0===i?(e.style.width="0",t.style.display="none"):n.style.display="none"}}));let[v,w]=await Promise.all([e.then((n=>n.loadFile())),fetch(n).then((n=>n.json()))]);document.getElementById("downloadProgressPane").style.display="none",document.querySelector(".app").style.display="block";let x={};w.vocab.forEach(((n,e)=>x[n]=e));let C=document.querySelector(".wordInput"),E=document.querySelector(".wordInputError");function k(){let n="https://robamler.github.io/linguistic-flux-capacitor";return""!==r&&(n+=location.hash),[n,"Explore how the meaning of "+(""===r?"words":'the word "'+r+'"')+" has changed over the past two centuries"]}function I(n){n.preventDefault();let[e,t]=k();window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(t+": "+e),"share-dialog","width=626,height=436")}function S(){let n="",e=[];for(let t of window.location.hash.substr(1).split("&")){let[o,i]=t.split("=");"w"===o?n=decodeURIComponent(i):"o"===o&&""!==i&&(e=i.split("+").map(decodeURIComponent))}L(n,e,!0)}function T(){let n=()=>L(C.value.trim(),null);setTimeout(n,0),setTimeout(n,300)}function L(n,e,t=!1){let o=!1,i=!1;if(null!==n){C.value.trim()!==n&&(C.value=n);let e=x[n];""===n||void 0!==e?(C.classList.remove("invalid"),E.style.display="none",n!==r&&(o=!0,r=n,p=v.largest_changes_wrt(e,d.length,2,2))):(C.classList.add("invalid"),E.style.display="inline-block")}if(null!==e){let n=[];e.length>u.length&&e.splice(u.length);for(let t=0;t<e.length;t+=1){let o=e[t],r=x[o];n.push(r),(t>=l.length||l[t]!==o)&&(i=!0,void 0===r?(m[t].classList.add("invalid"),m[t].setAttribute("title","word not found"),m[t].parentElement.removeAttribute("title"),m[t].parentElement.classList.add("inactive")):(m[t].classList.remove("invalid"),m[t].removeAttribute("title"),m[t].parentElement.setAttribute("title","Click and move mouse across diagram to explore further."),m[t].parentElement.classList.remove("inactive")),u[t].style.display="list-item",f[t].style.display="inline",m[t].value.trim()!==o&&(m[t].value=o),g.textContent=o,m[t].style.width=g.offsetWidth+"px")}if(e.length!==l.length&&(i=!0,e.length<u.length)){u[e.length].style.display="list-item",m[e.length].value="",m[e.length].style.width="0",m[e.length].classList.remove("invalid"),m[e.length].setAttribute("title","Enter a secondary word here."),m[e.length].parentElement.classList.add("inactive"),m[e.length].parentElement.removeAttribute("title"),f[e.length].style.display="none";for(let n=e.length+1;n<u.length;n+=1)u[n].style.display="none"}l=e,a=n}if(o||i){if(y.clear(),""===r)return document.title="The Linguistic Flux Capacitor",y.showInputPrompt(),c.classList.add("empty"),void(t||history.pushState(null,"The Linguistic Flux Capacitor","#"));if(document.title="The Linguistic Flux Capacitor: "+r,!t){let n="#v=0&c=en&w="+encodeURIComponent(r);0!=l.length&&(n=n+"&o="+l.map(encodeURIComponent).join("+")),history.pushState(null,"The Linguistic Flux Capacitor: "+r,n)}c.classList.remove("empty"),h.forEach((n=>{n.classList.remove("hovering"),n.firstElementChild.textContent=r}));let n=[...p],e=[];for(let t=0;t<n.length;t+=1)e.push(t);a.forEach(((t,o)=>{void 0!==t&&(n.push(t),e.push(p.length+o))}));let o=x[r],i=Array(n.length).fill(o),s=v.pairwise_trajectories(i,n),u=s.length/n.length;n.forEach(((n,t)=>{let i=w.vocab[n];y.plotLine(s.subarray(t*u,(t+1)*u),e[t],0,{word1:r,word2:i,word1Id:o,word2Id:n},!1,'"'+r+'" ↔ "'+i+'"\n(click on line to explore relationship)'),t<d.length&&(h[t].firstElementChild.nextElementSibling.textContent=i)}))}}C.onkeydown=T,C.onchange=T,C.onclick=T,C.onblur=T,document.getElementById("shareFacebookButton").onclick=function(n){n.preventDefault();let[e,t]=k(),o="https://www.facebook.com/share.php?u="+encodeURIComponent(e)+"&quote="+encodeURIComponent(t+" using this web app.");window.open(o,"share-dialog","width=626,height=436")},document.getElementById("shareTwitterButton").onclick=I,document.getElementById("copyLinkButton").onclick=async function(n){n.preventDefault();let[e,t]=k();await navigator.clipboard.writeText(t+": "+e);let o=document.querySelector(".toast");o.style.display="inline-block",o.style.opacity=1,setTimeout((()=>o.style.opacity=0),3e3),setTimeout((()=>o.style.display="none"),3900)},document.getElementById("shareTwitterButton").onclick=I,window.addEventListener("popstate",S),setTimeout((()=>{S(),""===r&&y.showInputPrompt(),C.selectionStart=C.selectionEnd=C.value.length,C.focus()}),0)}()})()})();